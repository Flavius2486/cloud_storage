{"ast":null,"code":"import config from \"@/config.json\";\n// import jwtDecode from \"jwt-decode\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      remberMe: false\n    };\n  },\n  methods: {\n    updateInputColor(event, index) {\n      document.querySelector(\".form-error\").classList.add(\"transparent\");\n      document.querySelectorAll(\".user-box label\")[index].style.color = \"white\";\n      document.querySelectorAll(\".input-error\")[index].classList.add(\"hidden\");\n      event.target.style.borderColor = \"#ffffff\";\n    },\n    handleLogin() {\n      let error = false;\n      const inputs = document.querySelectorAll(\".user-box input\");\n      const labels = document.querySelectorAll(\".user-box label\");\n      const errors = document.querySelectorAll(\".input-error\");\n      inputs.forEach((input, index) => {\n        if (input.value.length === 0) {\n          input.style.borderColor = \"rgb(228, 48, 48)\";\n          labels[index].style.color = \"rgb(228, 48, 48)\";\n          errors[index].classList.remove(\"hidden\");\n          error = true;\n        }\n      });\n      if (!error) {\n        axios.post(`${config.BASE_URL}/login`, {\n          email: this.email,\n          password: this.password,\n          remember: this.remberMe\n        }, {\n          withCredentials: true\n        }).then(response => {\n          if (response.data.auth) {\n            this.$router.replace(\"/dashboard\");\n          } else {\n            document.querySelector(\".form-error\").classList.remove(\"transparent\");\n            document.querySelector(\".form-error i\").innerHTML = response.data.message;\n          }\n        }).catch(error => {\n          throw error;\n        });\n      }\n    },\n    rememberMe() {\n      this.remberMe = !this.remberMe;\n      document.querySelector(\".remember-me-box input\").checked = this.remberMe;\n    }\n  }\n  // mounted() {\n  //   this.verifyIsAuthenticated();\n  // },\n};","map":{"version":3,"names":["config","axios","data","email","password","remberMe","methods","updateInputColor","event","index","document","querySelector","classList","add","querySelectorAll","style","color","target","borderColor","handleLogin","error","inputs","labels","errors","forEach","input","value","length","remove","post","BASE_URL","remember","withCredentials","then","response","auth","$router","replace","innerHTML","message","catch","rememberMe","checked"],"sources":["/home/flavius/Public/projects/personal_cloud_storage/client/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"login-box\">\n      <h2>Login</h2>\n      <div class=\"form-error transparent\">\n        <i>Incorrect email and/or password</i>\n      </div>\n      <form>\n        <div class=\"user-box\">\n          <input\n            v-model=\"email\"\n            type=\"text\"\n            class=\"email-input\"\n            required\n            @focus=\"updateInputColor($event, 0)\"\n          />\n          <label class=\"username-placeholder\">Email</label>\n          <i class=\"input-error hidden\">Field cannot be empty!</i>\n        </div>\n        <div class=\"user-box\">\n          <input\n            v-model=\"password\"\n            type=\"password\"\n            class=\"password-input\"\n            required\n            @focus=\"updateInputColor($event, 1)\"\n          />\n          <label class=\"password-placeholder\">Password</label>\n          <i class=\"input-error hidden\">Field cannot be empty!</i>\n        </div>\n        <div class=\"remember-me-box\" @click=\"rememberMe\">\n          <div>\n            <input type=\"checkbox\" @click.stop />\n            <p>Remember me</p>\n          </div>\n        </div>\n        <a class=\"submit-btn\" type=\"submit\" @click=\"handleLogin\">\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n          Submit\n        </a>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport config from \"@/config.json\";\n// import jwtDecode from \"jwt-decode\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      remberMe: false,\n    };\n  },\n  methods: {\n    updateInputColor(event, index) {\n      document.querySelector(\".form-error\").classList.add(\"transparent\");\n      document.querySelectorAll(\".user-box label\")[index].style.color = \"white\";\n      document.querySelectorAll(\".input-error\")[index].classList.add(\"hidden\");\n      event.target.style.borderColor = \"#ffffff\";\n    },\n\n    handleLogin() {\n      let error = false;\n\n      const inputs = document.querySelectorAll(\".user-box input\");\n      const labels = document.querySelectorAll(\".user-box label\");\n      const errors = document.querySelectorAll(\".input-error\");\n\n      inputs.forEach((input, index) => {\n        if (input.value.length === 0) {\n          input.style.borderColor = \"rgb(228, 48, 48)\";\n          labels[index].style.color = \"rgb(228, 48, 48)\";\n          errors[index].classList.remove(\"hidden\");\n          error = true;\n        }\n      });\n\n      if (!error) {\n        axios\n          .post(\n            `${config.BASE_URL}/login`,\n            {\n              email: this.email,\n              password: this.password,\n              remember: this.remberMe,\n            },\n            {\n              withCredentials: true,\n            }\n          )\n          .then((response) => {\n            if (response.data.auth) {\n              this.$router.replace(\"/dashboard\");\n            } else {\n              document\n                .querySelector(\".form-error\")\n                .classList.remove(\"transparent\");\n              document.querySelector(\".form-error i\").innerHTML =\n                response.data.message;\n            }\n          })\n          .catch((error) => {\n            throw error;\n          });\n      }\n    },\n\n    rememberMe() {\n      this.remberMe = !this.remberMe;\n      document.querySelector(\".remember-me-box input\").checked = this.remberMe;\n    },\n  },\n  // mounted() {\n  //   this.verifyIsAuthenticated();\n  // },\n};\n</script>\n\n<style>\n.container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: transparent,\n    url(\"../assets/background_pattern.png\") top left repeat;\n}\n\n@media (min-width: 2000px) and (min-height: 1000px) {\n  body {\n    background-repeat: repeat;\n    background-size: 100%;\n  }\n}\n\n.login-box {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 400px;\n  padding: 40px;\n  transform: translate(-50%, -50%);\n  background: rgba(0, 0, 0, 0.2);\n  box-sizing: border-box;\n  box-shadow: 0 15px 25px rgba(0, 0, 0, 0.6);\n  border-radius: 10px;\n}\n\n.login-box h2 {\n  margin: 0 0 3px;\n  padding: 0;\n  color: #fff;\n  text-align: center;\n  font-size: 25px;\n}\n\n.login-box .user-box {\n  position: relative;\n}\n\n.login-box .user-box input {\n  width: 100%;\n  padding: 8px 0;\n  font-size: 16px;\n  color: #fff;\n  margin-bottom: 40px;\n  border: none;\n  border-bottom: 1px solid #fff;\n  outline: none;\n  background: transparent;\n  height: auto;\n}\n.login-box .user-box label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 10px 0;\n  font-size: 16px;\n  color: #fff;\n  pointer-events: none;\n  transition: 0.5s;\n}\n\n.login-box .user-box input:focus ~ label,\n.login-box .user-box input:valid ~ label {\n  top: -20px;\n  left: 0;\n  font-size: 12px;\n}\n\n.remember-me-box {\n  position: absolute;\n  margin-top: -18px;\n  right: 40px;\n  z-index: 999999;\n}\n\n.remember-me-box div {\n  display: flex;\n  align-items: center;\n}\n\n.remember-me-box input {\n  height: 14px;\n  width: 14px;\n}\n\n.remember-me-box p {\n  color: #fff;\n  margin-left: 5px;\n  font-size: 15px;\n  cursor: default;\n  user-select: none;\n}\n\n/*-------Errors---------------*/\n\n.form-error {\n  color: rgb(228, 48, 48);\n  font-size: 15px;\n  margin-bottom: 10px;\n}\n\n.input-error {\n  margin-top: -37px;\n  margin-bottom: 19px;\n  font-size: 13px;\n  color: rgb(228, 48, 48);\n}\n\n/*----------Submit button-----------*/\n\n.submit-btn {\n  position: relative;\n  display: inline-block;\n  padding: 10px 20px;\n  color: #03e9f4;\n  font-size: 16px;\n  text-decoration: none;\n  text-transform: uppercase;\n  overflow: hidden;\n  transition: 0.5s;\n  margin-top: 30px;\n  letter-spacing: 4px;\n  cursor: default;\n}\n\n.submit-btn:hover {\n  background: #0f1220;\n  color: #fff;\n  border-radius: 5px;\n  /* box-shadow: 0 0 2px #03e9f4, 0 0 12px #03e9f4, 0 0 25px #03e9f4,\n    0 0 50px #03e9f4; */\n}\n\n.login-box a span {\n  position: absolute;\n  display: block;\n}\n\n.login-box a span:nth-child(1) {\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 2px;\n  background: linear-gradient(90deg, transparent, #03e9f4);\n  animation: btn-anim1 1s linear infinite;\n}\n\n@keyframes btn-anim1 {\n  0% {\n    left: -100%;\n  }\n  50%,\n  100% {\n    left: 100%;\n  }\n}\n\n.login-box a span:nth-child(2) {\n  top: -100%;\n  right: 0;\n  width: 2px;\n  height: 100%;\n  background: linear-gradient(180deg, transparent, #03e9f4);\n  animation: btn-anim2 1s linear infinite;\n  animation-delay: 0.25s;\n}\n\n@keyframes btn-anim2 {\n  0% {\n    top: -100%;\n  }\n  50%,\n  100% {\n    top: 100%;\n  }\n}\n\n.login-box a span:nth-child(3) {\n  bottom: 0;\n  right: -100%;\n  width: 100%;\n  height: 2px;\n  background: linear-gradient(270deg, transparent, #03e9f4);\n  animation: btn-anim3 1s linear infinite;\n  animation-delay: 0.5s;\n}\n\n@keyframes btn-anim3 {\n  0% {\n    right: -100%;\n  }\n  50%,\n  100% {\n    right: 100%;\n  }\n}\n\n.login-box a span:nth-child(4) {\n  bottom: -100%;\n  left: 0;\n  width: 2px;\n  height: 100%;\n  background: linear-gradient(360deg, transparent, #03e9f4);\n  animation: btn-anim4 1s linear infinite;\n  animation-delay: 0.75s;\n}\n\n@keyframes btn-anim4 {\n  0% {\n    bottom: -100%;\n  }\n  50%,\n  100% {\n    bottom: 100%;\n  }\n}\n\n#link {\n  font-size: 15px;\n  float: right;\n  color: #03e9f4;\n  text-decoration: none;\n  height: 30px;\n  width: auto;\n}\n\n#error-message {\n  margin-top: -27px;\n  margin-bottom: 15px;\n  color: red;\n  font-size: 13px;\n  font-family: italic;\n  height: auto;\n}\n\n@media (max-width: 450px) {\n  .login-box {\n    width: 90%;\n  }\n}\n\n.hidden {\n  display: none;\n}\n\n.transparent {\n  color: transparent;\n  background: transparent;\n}\n</style>\n"],"mappings":"AAiDA,OAAOA,MAAK,MAAO,eAAe;AAClC;AACA,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,KAAK,EAAEC,KAAK,EAAE;MAC7BC,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC,CAACC,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;MAClEH,QAAQ,CAACI,gBAAgB,CAAC,iBAAiB,CAAC,CAACL,KAAK,CAAC,CAACM,KAAK,CAACC,KAAI,GAAI,OAAO;MACzEN,QAAQ,CAACI,gBAAgB,CAAC,cAAc,CAAC,CAACL,KAAK,CAAC,CAACG,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;MACxEL,KAAK,CAACS,MAAM,CAACF,KAAK,CAACG,WAAU,GAAI,SAAS;IAC5C,CAAC;IAEDC,WAAWA,CAAA,EAAG;MACZ,IAAIC,KAAI,GAAI,KAAK;MAEjB,MAAMC,MAAK,GAAIX,QAAQ,CAACI,gBAAgB,CAAC,iBAAiB,CAAC;MAC3D,MAAMQ,MAAK,GAAIZ,QAAQ,CAACI,gBAAgB,CAAC,iBAAiB,CAAC;MAC3D,MAAMS,MAAK,GAAIb,QAAQ,CAACI,gBAAgB,CAAC,cAAc,CAAC;MAExDO,MAAM,CAACG,OAAO,CAAC,CAACC,KAAK,EAAEhB,KAAK,KAAK;QAC/B,IAAIgB,KAAK,CAACC,KAAK,CAACC,MAAK,KAAM,CAAC,EAAE;UAC5BF,KAAK,CAACV,KAAK,CAACG,WAAU,GAAI,kBAAkB;UAC5CI,MAAM,CAACb,KAAK,CAAC,CAACM,KAAK,CAACC,KAAI,GAAI,kBAAkB;UAC9CO,MAAM,CAACd,KAAK,CAAC,CAACG,SAAS,CAACgB,MAAM,CAAC,QAAQ,CAAC;UACxCR,KAAI,GAAI,IAAI;QACd;MACF,CAAC,CAAC;MAEF,IAAI,CAACA,KAAK,EAAE;QACVnB,KAAI,CACD4B,IAAI,CACF,GAAE7B,MAAM,CAAC8B,QAAS,QAAO,EAC1B;UACE3B,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvB2B,QAAQ,EAAE,IAAI,CAAC1B;QACjB,CAAC,EACD;UACE2B,eAAe,EAAE;QACnB,CACF,EACCC,IAAI,CAAEC,QAAQ,IAAK;UAClB,IAAIA,QAAQ,CAAChC,IAAI,CAACiC,IAAI,EAAE;YACtB,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC,YAAY,CAAC;UACpC,OAAO;YACL3B,QAAO,CACJC,aAAa,CAAC,aAAa,EAC3BC,SAAS,CAACgB,MAAM,CAAC,aAAa,CAAC;YAClClB,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC,CAAC2B,SAAQ,GAC9CJ,QAAQ,CAAChC,IAAI,CAACqC,OAAO;UACzB;QACF,CAAC,EACAC,KAAK,CAAEpB,KAAK,IAAK;UAChB,MAAMA,KAAK;QACb,CAAC,CAAC;MACN;IACF,CAAC;IAEDqB,UAAUA,CAAA,EAAG;MACX,IAAI,CAACpC,QAAO,GAAI,CAAC,IAAI,CAACA,QAAQ;MAC9BK,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC,CAAC+B,OAAM,GAAI,IAAI,CAACrC,QAAQ;IAC1E;EACF;EACA;EACA;EACA;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}