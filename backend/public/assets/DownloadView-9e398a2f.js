import{_ as r,a as n,o as d,c as l}from"./index-46b75774.js";import{d as i}from"./deleteDownloadedFolder-e6c3c61c.js";const c={name:"tmp-download",data(){return{}},mounted(){n.post("https://cloud.fl4v1u5.net:3002/api/tmp-link-download",{link:this.$route.params.identifier},{responseType:"blob",withCredentials:!0}).then(t=>{n.post("https://cloud.fl4v1u5.net:3002/api/get-data-name",{link:this.$route.params.identifier},{withCredentials:!0}).then(e=>{if(e.data.dataName){const o=new Blob([t.data],{type:t.data.type}),a=document.createElement("a");a.href=window.URL.createObjectURL(o),a.download=e.data.dataName,a.click(),i(e.data.dataName)}else this.$router.replace({name:"login"})}).catch(e=>{console.log(e),this.$router.replace({name:"login"})})}).catch(t=>{console.log(t),this.$router.replace({name:"login"})})}};function s(t,e,o,a,p,m){return d(),l("div")}const f=r(c,[["render",s]]);export{f as default};
