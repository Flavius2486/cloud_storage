"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[224],{3224:function(e,r,l){l.r(r),l.d(r,{default:function(){return S}});var a=l(3396),n=l(9242);const s=e=>((0,a.dD)("data-v-66ade150"),e=e(),(0,a.Cn)(),e),o={class:"container"},t={class:"login-box"},u=s((()=>(0,a._)("h2",null,"Login",-1))),d=s((()=>(0,a._)("div",{class:"form-error transparent"},[(0,a._)("i",null,"Incorrect email and/or password")],-1))),i={class:"user-box"},c=s((()=>(0,a._)("label",{class:"username-placeholder"},"Email or username",-1))),p=s((()=>(0,a._)("i",{class:"input-error hidden"},"Field cannot be empty!",-1))),m={class:"user-box"},h=s((()=>(0,a._)("label",{class:"password-placeholder"},"Password",-1))),_=s((()=>(0,a._)("i",{class:"input-error hidden"},"Field cannot be empty!",-1))),b=s((()=>(0,a._)("span",null,null,-1))),y=s((()=>(0,a._)("span",null,null,-1))),f=s((()=>(0,a._)("span",null,null,-1))),w=s((()=>(0,a._)("span",null,null,-1)));function v(e,r,l,s,v,g){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",t,[u,d,(0,a._)("form",null,[(0,a._)("div",i,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>v.email_username=e),type:"text",class:"email_username-input",required:"",onFocus:r[1]||(r[1]=e=>g.updateInputColor(e,0))},null,544),[[n.nr,v.email_username]]),c,p]),(0,a._)("div",m,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>v.password=e),type:"password",class:"password-input",required:"",onFocus:r[3]||(r[3]=e=>g.updateInputColor(e,1))},null,544),[[n.nr,v.password]]),h,_]),(0,a._)("a",{class:"submit-btn",type:"submit",onClick:r[4]||(r[4]=(...e)=>g.handleLogin&&g.handleLogin(...e))},[b,y,f,w,(0,a.Uk)(" Submit ")])])])])}var g=l(4161),q={data(){return{email_username:"",password:""}},methods:{updateInputColor(e,r){document.querySelector(".form-error").classList.add("transparent"),document.querySelectorAll(".user-box label")[r].style.color="white",document.querySelectorAll(".input-error")[r].classList.add("hidden"),e.target.style.borderColor="#ffffff"},handleLogin(){let e=!1;const r=document.querySelectorAll(".user-box input"),l=document.querySelectorAll(".user-box label"),a=document.querySelectorAll(".input-error");r.forEach(((r,n)=>{0===r.value.length&&(r.style.borderColor="rgb(228, 48, 48)",l[n].style.color="rgb(228, 48, 48)",a[n].classList.remove("hidden"),e=!0)})),e||g.Z.post("/api/login",{email_username:this.email_username,password:this.password},{withCredentials:!0}).then((e=>{e.data.auth?this.$router.replace("/dashboard"):(document.querySelector(".form-error").classList.remove("transparent"),document.querySelector(".form-error i").innerHTML=e.data.message)})).catch((e=>{throw e}))}}},C=l(89);const L=(0,C.Z)(q,[["render",v],["__scopeId","data-v-66ade150"]]);var S=L}}]);
//# sourceMappingURL=224.09409bfa.js.map