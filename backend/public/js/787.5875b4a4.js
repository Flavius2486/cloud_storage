"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[787],{6787:function(e,r,l){l.r(r),l.d(r,{default:function(){return S}});var n=l(3396),a=l(9242);const o=e=>((0,n.dD)("data-v-177e68d4"),e=e(),(0,n.Cn)(),e),s={class:"container"},t={class:"login-box"},u=o((()=>(0,n._)("h2",null,"Login",-1))),d=o((()=>(0,n._)("div",{class:"form-error transparent"},[(0,n._)("i",null,"Incorrect email and/or password")],-1))),i={class:"user-box"},c=o((()=>(0,n._)("label",{class:"username-placeholder"},"Email or username",-1))),p=o((()=>(0,n._)("i",{class:"input-error hidden"},"Field cannot be empty!",-1))),m={class:"user-box"},h=o((()=>(0,n._)("label",{class:"password-placeholder"},"Password",-1))),_=o((()=>(0,n._)("i",{class:"input-error hidden"},"Field cannot be empty!",-1))),b=o((()=>(0,n._)("span",null,null,-1))),y=o((()=>(0,n._)("span",null,null,-1))),f=o((()=>(0,n._)("span",null,null,-1))),w=o((()=>(0,n._)("span",null,null,-1)));function g(e,r,l,o,g,v){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",t,[u,d,(0,n._)("form",null,[(0,n._)("div",i,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>g.email_username=e),type:"text",class:"email_username-input",required:"",onKeyup:r[1]||(r[1]=(0,a.D2)(((...e)=>v.handleLogin&&v.handleLogin(...e)),["enter"])),onFocus:r[2]||(r[2]=e=>v.updateInputColor(e,0))},null,544),[[a.nr,g.email_username]]),c,p]),(0,n._)("div",m,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":r[3]||(r[3]=e=>g.password=e),type:"password",class:"password-input",required:"",onKeyup:r[4]||(r[4]=(0,a.D2)(((...e)=>v.handleLogin&&v.handleLogin(...e)),["enter"])),onFocus:r[5]||(r[5]=e=>v.updateInputColor(e,1))},null,544),[[a.nr,g.password]]),h,_]),(0,n._)("a",{class:"submit-btn",type:"submit",onClick:r[6]||(r[6]=(...e)=>v.handleLogin&&v.handleLogin(...e))},[b,y,f,w,(0,n.Uk)(" Submit ")])])])])}var v=l(4161),L={data(){return{email_username:"",password:""}},methods:{updateInputColor(e,r){document.querySelector(".form-error").classList.add("transparent"),document.querySelectorAll(".user-box label")[r].style.color="white",document.querySelectorAll(".input-error")[r].classList.add("hidden"),e.target.style.borderColor="#ffffff"},handleLogin(){let e=!1;const r=document.querySelectorAll(".user-box input"),l=document.querySelectorAll(".user-box label"),n=document.querySelectorAll(".input-error");r.forEach(((r,a)=>{0===r.value.length&&(r.style.borderColor="rgb(228, 48, 48)",l[a].style.color="rgb(228, 48, 48)",n[a].classList.remove("hidden"),e=!0)})),e||v.Z.post("/api/login",{email_username:this.email_username,password:this.password},{withCredentials:!0}).then((e=>{e.data.auth?this.$router.replace("/dashboard"):(document.querySelector(".form-error").classList.remove("transparent"),document.querySelector(".form-error i").innerHTML=e.data.message)})).catch((e=>{throw e}))}}},q=l(89);const C=(0,q.Z)(L,[["render",g],["__scopeId","data-v-177e68d4"]]);var S=C}}]);
//# sourceMappingURL=787.5875b4a4.js.map