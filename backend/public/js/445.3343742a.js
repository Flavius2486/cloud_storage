(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[445],{5655:function(e,t,a){a(7658),function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);if(this.version=1,this.support="undefined"!==typeof File&&"undefined"!==typeof Blob&&"undefined"!==typeof FileList&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1),!this.support)return!1;var a=this;a.files=[],a.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var r=a.getOpt("maxFiles");alert("Please upload no more than "+r+" file"+(1===r?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+r.formatSize(a.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+r.formatSize(a.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+a.getOpt("fileType")+".")}},a.opts=e||{},a.getOpt=function(e){var a=this;if(e instanceof Array){var i={};return r.each(e,(function(e){i[e]=a.getOpt(e)})),i}if(a instanceof f){if("undefined"!==typeof a.opts[e])return a.opts[e];a=a.fileObj}if(a instanceof c){if("undefined"!==typeof a.opts[e])return a.opts[e];a=a.resumableObj}if(a instanceof t)return"undefined"!==typeof a.opts[e]?a.opts[e]:a.defaults[e]},a.events=[],a.on=function(e,t){a.events.push(e.toLowerCase(),t)},a.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var r=e[0].toLowerCase();for(t=0;t<=a.events.length;t+=2)a.events[t]==r&&a.events[t+1].apply(a,e.slice(1)),"catchall"==a.events[t]&&a.events[t+1].apply(null,e);"fileerror"==r&&a.fire("error",e[2],e[1]),"fileprogress"==r&&a.fire("progress")};var r={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if("undefined"!==typeof e.length){for(var a=0;a<e.length;a++)if(!1===t(e[a]))return}else for(a in e)if(!1===t(a,e[a]))return},generateUniqueIdentifier:function(e,t){var r=a.getOpt("generateUniqueIdentifier");if("function"===typeof r)return r(e,t);var i=e.webkitRelativePath||e.fileName||e.name,n=e.size;return n+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var a=!1;return r.each(e,(function(e){return e!=t||(a=!0,!1)})),a},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var r=a.getOpt("target");if("test"===e&&a.getOpt("testTarget")&&(r="/"===a.getOpt("testTarget")?a.getOpt("target"):a.getOpt("testTarget")),"function"===typeof r)return r(t);var i=r.indexOf("?")<0?"?":"&",n=t.join("&");return r+i+n}},i=function(e){r.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?u(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&u(e.dataTransfer.files,e)},n=function(e){e.preventDefault()};function s(e,t,a,r){var i;return e.isFile?e.file((function(e){e.relativePath=t+e.name,a.push(e),r()})):(e.isDirectory?i=e:e instanceof File&&a.push(e),"function"===typeof e.webkitGetAsEntry&&(i=e.webkitGetAsEntry()),i&&i.isDirectory?l(i,t+i.name+"/",a,r):("function"===typeof e.getAsFile&&(e=e.getAsFile(),e instanceof File&&(e.relativePath=t+e.name,a.push(e))),void r()))}function o(e,t){if(!e||0===e.length)return t();e[0]((function(){o(e.slice(1),t)}))}function l(e,t,a,r){var i=e.createReader();i.readEntries((function(e){if(!e.length)return r();o(e.map((function(e){return s.bind(null,e,t,a)})),r)}))}function u(e,t){if(e.length){a.fire("beforeAdd");var r=[];o(Array.prototype.map.call(e,(function(e){return s.bind(null,e,"",r)})),(function(){r.length&&d(r,t)}))}}var d=function(e,t){var i=0,n=a.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if("undefined"!==typeof n.maxFiles&&n.maxFiles<e.length+a.files.length){if(1!==n.maxFiles||1!==a.files.length||1!==e.length)return n.maxFilesErrorCallback(e,i++),!1;a.removeFile(a.files[0])}var s=[],o=[],l=e.length,u=function(){if(!--l){if(!s.length&&!o.length)return;window.setTimeout((function(){a.fire("filesAdded",s,o)}),0)}};r.each(e,(function(e){var l=e.name;if(n.fileType.length>0){var d=!1;for(var f in n.fileType){var p="."+n.fileType[f];if(-1!==l.toLowerCase().indexOf(p.toLowerCase(),l.length-p.length)){d=!0;break}}if(!d)return n.fileTypeErrorCallback(e,i++),!1}if("undefined"!==typeof n.minFileSize&&e.size<n.minFileSize)return n.minFileSizeErrorCallback(e,i++),!1;if("undefined"!==typeof n.maxFileSize&&e.size>n.maxFileSize)return n.maxFileSizeErrorCallback(e,i++),!1;function h(r){a.getFromUniqueIdentifier(r)?o.push(e):function(){e.uniqueIdentifier=r;var i=new c(a,e,r);a.files.push(i),s.push(i),i.container="undefined"!=typeof t?t.srcElement:null,window.setTimeout((function(){a.fire("fileAdded",i,t)}),0)}(),u()}var m=r.generateUniqueIdentifier(e,t);m&&"function"===typeof m.then?m.then((function(e){h(e)}),(function(){u()})):h(m)}))};function c(e,t,a){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.relativePath||t.webkitRelativePath||i.fileName,i.uniqueIdentifier=a,i._pause=!1,i.container="";var n=void 0!==a,s=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i,t);break;case"error":i.abort(),n=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(n)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i);break}};return i.chunks=[],i.abort=function(){var e=0;r.each(i.chunks,(function(t){"uploading"==t.status()&&(t.abort(),e++)})),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],r.each(e,(function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())})),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",(function(){e||i.resumableObj.upload(),e=!0}))},i.bootstrap=function(){i.abort(),n=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(i.file.size/i.getOpt("chunkSize")),1),a=0;a<t;a++)(function(e){window.setTimeout((function(){i.chunks.push(new f(i.resumableObj,i,e,s)),i.resumableObj.fire("chunkingProgress",i,e/t)}),0)})(a);window.setTimeout((function(){i.resumableObj.fire("chunkingComplete",i)}),0)},i.progress=function(){if(n)return 1;var e=0,t=!1;return r.each(i.chunks,(function(a){"error"==a.status()&&(t=!0),e+=a.progress(!0)})),e=t||e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return r.each(i.chunks,(function(t){if("uploading"==t.status())return e=!0,!1})),e},i.isComplete=function(){var e=!1;return r.each(i.chunks,(function(t){var a=t.status();if("pending"==a||"uploading"==a||1===t.preprocessState)return e=!0,!1})),!e},i.pause=function(e){i._pause="undefined"===typeof e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function f(e,t,a,i){var n=this;n.opts={},n.getOpt=e.getOpt,n.resumableObj=e,n.fileObj=t,n.fileObjSize=t.size,n.fileObjType=t.file.type,n.offset=a,n.callback=i,n.lastProgressCallback=new Date,n.tested=!1,n.retries=0,n.pendingRetry=!1,n.preprocessState=0;var s=n.getOpt("chunkSize");return n.loaded=0,n.startByte=n.offset*s,n.endByte=Math.min(n.fileObjSize,(n.offset+1)*s),n.fileObjSize-n.endByte<s&&!n.getOpt("forceChunkSize")&&(n.endByte=n.fileObjSize),n.xhr=null,n.test=function(){n.xhr=new XMLHttpRequest;var e=function(e){n.tested=!0;var t=n.status();"success"==t?(n.callback(t,n.message()),n.resumableObj.uploadNextChunk()):n.send()};n.xhr.addEventListener("load",e,!1),n.xhr.addEventListener("error",e,!1),n.xhr.addEventListener("timeout",e,!1);var t=[],a=n.getOpt("parameterNamespace"),i=n.getOpt("query");"function"==typeof i&&(i=i(n.fileObj,n)),r.each(i,(function(e,r){t.push([encodeURIComponent(a+e),encodeURIComponent(r)].join("="))})),t=t.concat([["chunkNumberParameterName",n.offset+1],["chunkSizeParameterName",n.getOpt("chunkSize")],["currentChunkSizeParameterName",n.endByte-n.startByte],["totalSizeParameterName",n.fileObjSize],["typeParameterName",n.fileObjType],["identifierParameterName",n.fileObj.uniqueIdentifier],["fileNameParameterName",n.fileObj.fileName],["relativePathParameterName",n.fileObj.relativePath],["totalChunksParameterName",n.fileObj.chunks.length]].filter((function(e){return n.getOpt(e[0])})).map((function(e){return[a+n.getOpt(e[0]),encodeURIComponent(e[1])].join("=")}))),n.xhr.open(n.getOpt("testMethod"),r.getTarget("test",t)),n.xhr.timeout=n.getOpt("xhrTimeout"),n.xhr.withCredentials=n.getOpt("withCredentials");var s=n.getOpt("headers");"function"===typeof s&&(s=s(n.fileObj,n)),r.each(s,(function(e,t){n.xhr.setRequestHeader(e,t)})),n.xhr.send(null)},n.preprocessFinished=function(){n.preprocessState=2,n.send()},n.send=function(){var e=n.getOpt("preprocess");if("function"===typeof e)switch(n.preprocessState){case 0:return n.preprocessState=1,void e(n);case 1:return;case 2:break}if(!n.getOpt("testChunks")||n.tested){n.xhr=new XMLHttpRequest,n.xhr.upload.addEventListener("progress",(function(e){new Date-n.lastProgressCallback>1e3*n.getOpt("throttleProgressCallbacks")&&(n.callback("progress"),n.lastProgressCallback=new Date),n.loaded=e.loaded||0}),!1),n.loaded=0,n.pendingRetry=!1,n.callback("progress");var t=function(e){var t=n.status();if("success"==t||"error"==t)n.callback(t,n.message()),n.resumableObj.uploadNextChunk();else{n.callback("retry",n.message()),n.abort(),n.retries++;var a=n.getOpt("chunkRetryInterval");void 0!==a?(n.pendingRetry=!0,setTimeout(n.send,a)):n.send()}};n.xhr.addEventListener("load",t,!1),n.xhr.addEventListener("error",t,!1),n.xhr.addEventListener("timeout",t,!1);var a=[["chunkNumberParameterName",n.offset+1],["chunkSizeParameterName",n.getOpt("chunkSize")],["currentChunkSizeParameterName",n.endByte-n.startByte],["totalSizeParameterName",n.fileObjSize],["typeParameterName",n.fileObjType],["identifierParameterName",n.fileObj.uniqueIdentifier],["fileNameParameterName",n.fileObj.fileName],["relativePathParameterName",n.fileObj.relativePath],["totalChunksParameterName",n.fileObj.chunks.length]].filter((function(e){return n.getOpt(e[0])})).reduce((function(e,t){return e[n.getOpt(t[0])]=t[1],e}),{}),i=n.getOpt("query");"function"==typeof i&&(i=i(n.fileObj,n)),r.each(i,(function(e,t){a[e]=t}));var s=n.fileObj.file.slice?"slice":n.fileObj.file.mozSlice?"mozSlice":n.fileObj.file.webkitSlice?"webkitSlice":"slice",o=n.fileObj.file[s](n.startByte,n.endByte,n.getOpt("setChunkTypeFromFile")?n.fileObj.file.type:""),l=null,u=[],d=n.getOpt("parameterNamespace");if("octet"===n.getOpt("method"))l=o,r.each(a,(function(e,t){u.push([encodeURIComponent(d+e),encodeURIComponent(t)].join("="))}));else if(l=new FormData,r.each(a,(function(e,t){l.append(d+e,t),u.push([encodeURIComponent(d+e),encodeURIComponent(t)].join("="))})),"blob"==n.getOpt("chunkFormat"))l.append(d+n.getOpt("fileParameterName"),o,n.fileObj.fileName);else if("base64"==n.getOpt("chunkFormat")){var c=new FileReader;c.onload=function(e){l.append(d+n.getOpt("fileParameterName"),c.result),n.xhr.send(l)},c.readAsDataURL(o)}var f=r.getTarget("upload",u),p=n.getOpt("uploadMethod");n.xhr.open(p,f),"octet"===n.getOpt("method")&&n.xhr.setRequestHeader("Content-Type","application/octet-stream"),n.xhr.timeout=n.getOpt("xhrTimeout"),n.xhr.withCredentials=n.getOpt("withCredentials");var h=n.getOpt("headers");"function"===typeof h&&(h=h(n.fileObj,n)),r.each(h,(function(e,t){n.xhr.setRequestHeader(e,t)})),"blob"==n.getOpt("chunkFormat")&&n.xhr.send(l)}else n.test()},n.abort=function(){n.xhr&&n.xhr.abort(),n.xhr=null},n.status=function(){return n.pendingRetry?"uploading":n.xhr?n.xhr.readyState<4?"uploading":200==n.xhr.status||201==n.xhr.status?"success":r.contains(n.getOpt("permanentErrors"),n.xhr.status)||n.retries>=n.getOpt("maxChunkRetries")?"error":(n.abort(),"pending"):"pending"},n.message=function(){return n.xhr?n.xhr.responseText:""},n.progress=function(e){"undefined"===typeof e&&(e=!1);var t=e?(n.endByte-n.startByte)/n.fileObjSize:1;if(n.pendingRetry)return 0;n.xhr&&n.xhr.status||(t*=.95);var a=n.status();switch(a){case"success":case"error":return 1*t;case"pending":return 0*t;default:return n.loaded/(n.endByte-n.startByte)*t}},this}return a.uploadNextChunk=function(){var e=!1;if(a.getOpt("prioritizeFirstAndLastChunk")&&(r.each(a.files,(function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0})),e))return!0;if(r.each(a.files,(function(t){if(!1===t.isPaused()&&r.each(t.chunks,(function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1})),e)return!1})),e)return!0;var t=!1;return r.each(a.files,(function(e){if(!e.isComplete())return t=!0,!1})),t||a.fire("complete"),!1},a.assignBrowse=function(e,t){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){var r;"INPUT"===e.tagName&&"file"===e.type?r=e:(r=document.createElement("input"),r.setAttribute("type","file"),r.style.display="none",e.addEventListener("click",(function(){r.style.opacity=0,r.style.display="block",r.focus(),r.click(),r.style.display="none"}),!1),e.appendChild(r));var i=a.getOpt("maxFiles");"undefined"===typeof i||1!=i?r.setAttribute("multiple","multiple"):r.removeAttribute("multiple"),t?r.setAttribute("webkitdirectory","webkitdirectory"):r.removeAttribute("webkitdirectory");var n=a.getOpt("fileType");"undefined"!==typeof n&&n.length>=1?r.setAttribute("accept",n.map((function(e){return"."+e})).join(",")):r.removeAttribute("accept"),r.addEventListener("change",(function(e){d(e.target.files,e);var t=a.getOpt("clearInput");t&&(e.target.value="")}),!1)}))},a.assignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){e.addEventListener("dragover",n,!1),e.addEventListener("dragenter",n,!1),e.addEventListener("drop",i,!1)}))},a.unAssignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){e.removeEventListener("dragover",n),e.removeEventListener("dragenter",n),e.removeEventListener("drop",i)}))},a.isUploading=function(){var e=!1;return r.each(a.files,(function(t){if(t.isUploading())return e=!0,!1})),e},a.upload=function(){if(!a.isUploading()){a.fire("uploadStart");for(var e=1;e<=a.getOpt("simultaneousUploads");e++)a.uploadNextChunk()}},a.pause=function(){r.each(a.files,(function(e){e.abort()})),a.fire("pause")},a.cancel=function(){a.fire("beforeCancel");for(var e=a.files.length-1;e>=0;e--)a.files[e].cancel();a.fire("cancel")},a.progress=function(){var e=0,t=0;return r.each(a.files,(function(a){e+=a.progress()*a.size,t+=a.size})),t>0?e/t:0},a.addFile=function(e,t){d([e],t)},a.addFiles=function(e,t){d(e,t)},a.removeFile=function(e){for(var t=a.files.length-1;t>=0;t--)a.files[t]===e&&a.files.splice(t,1)},a.getFromUniqueIdentifier=function(e){var t=!1;return r.each(a.files,(function(a){a.uniqueIdentifier==e&&(t=a)})),t},a.getSize=function(){var e=0;return r.each(a.files,(function(t){e+=t.size})),e},a.handleDropEvent=function(e){i(e)},a.handleChangeEvent=function(e){d(e.target.files,e),e.target.value=""},a.updateQuery=function(e){a.opts.query=e},this};e.exports=t}()},8560:function(e,t,a){"use strict";var r=a(4161),i=a(4239);const n=async e=>{i.Z.commit("setDataStatus",{state:!1});try{const t=await r.Z.post("/api/fetch-data",{dataCategory:e},{withCredentials:!0});return i.Z.commit("setDataStatus",{state:!0}),i.Z.commit("setMemoryStatus",{data:{freeMemory:t.data.freeMemory,usedMemory:t.data.usedMemory}}),t.data.dataArray}catch(t){throw console.error("Error fetching data:",t),t}};t.Z=n},5426:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var r=a(3396);const i=e=>((0,r.dD)("data-v-65cbef8c"),e=e(),(0,r.Cn)(),e),n={class:"dashboard-view__header"},s=i((()=>(0,r._)("h1",null,"Dashboard",-1))),o={class:"dashboard-view__header--buttons"},l=i((()=>(0,r._)("p",{class:"dropdown-upload"},"Upload",-1))),u=i((()=>(0,r._)("p",{class:"dropdown-create-folder"},"Create",-1)));function d(e,t,a,i,d,c){const f=(0,r.up)("fa"),p=(0,r.up)("DropdownOption"),h=(0,r.up)("Dropdown"),m=(0,r.up)("DataWrapper"),g=(0,r.up)("FilesActionStatus"),b=(0,r.up)("MessageBox"),v=(0,r.up)("CreatePrivateFolder"),y=(0,r.up)("Modal");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("header",n,[s,(0,r._)("div",o,[(0,r._)("div",{class:"dashboard-view__upload-asets--button dropdown-upload",onClick:t[0]||(t[0]=e=>c.showDropdown(e))},[(0,r.Wm)(f,{icon:["fas","upload"],class:"dropdown-upload"}),l,(0,r.Wm)(f,{icon:["fas","chevron-down"],class:"dashboard-view__header--buttons__down-arrow--icon dropdown-upload"})]),(0,r.Wm)(h,{customClass:"dropdown-upload",style:{marginTop:"38px",marginLeft:"0"}},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{class:"upload-file",icon:["fas","file"],type:"file",onClick:t[1]||(t[1]=e=>c.uploadFilesBtn(e)),onChange:t[2]||(t[2]=e=>{d.input="file",c.uploadFiles(e)})},{default:(0,r.w5)((()=>[(0,r.Uk)("File")])),_:1}),(0,r.Wm)(p,{class:"upload-folder",icon:["fas","folder"],type:"folder",onClick:t[3]||(t[3]=e=>c.uploadFoldersBtn(e)),onChange:t[4]||(t[4]=e=>{d.input="folder",c.uploadFiles(e)})},{default:(0,r.w5)((()=>[(0,r.Uk)("Folder")])),_:1})])),_:1}),(0,r._)("div",{class:"dashboard-view__create-folder--button dropdown-create-folder",onClick:t[5]||(t[5]=e=>c.showDropdown(e))},[(0,r.Wm)(f,{icon:["fas","plus"],class:"dropdown-create-folder"}),u,(0,r.Wm)(f,{icon:["fas","chevron-down"],class:"dashboard-view__header--buttons__down-arrow--icon dropdown-create-folder"})]),(0,r.Wm)(h,{customClass:"dropdown-create-folder",style:{marginTop:"38px",marginLeft:"140px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{icon:["fas","folder-plus"],customClass:"modal-create-folder",onClick:t[6]||(t[6]=t=>(c.showModal(t),e.$refs.createFolderModal.getAvailablePaths()))},{default:(0,r.w5)((()=>[(0,r.Uk)("Folder")])),_:1})])),_:1})])]),(0,r.Wm)(m,{data:d.data,page:"dashboard",ref:"dataWrapper",onUpdateData:t[7]||(t[7]=e=>c.updateData())},null,8,["data"]),(0,r.Wm)(g,{status:d.filesStatus,numberOfFilesToUpload:d.filesToUpload,numberOfUploadedFiles:d.uploadedFiles,onAbortUploading:t[8]||(t[8]=e=>c.abortUploading()),ref:"filesActionStatusRef"},null,8,["status","numberOfFilesToUpload","numberOfUploadedFiles"]),(0,r.Wm)(b,{ref:"MessageBox",style:{marginLeft:"15px",bottom:"20px"}},null,512),(0,r.Wm)(y,{title:"Create folder",customClass:"modal-create-folder",ref:"Modal"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{onHideModal:c.hideModalTrigger,onUpdateData:t[9]||(t[9]=e=>c.updateData()),ref:"createFolderModal"},null,8,["onHideModal"])])),_:1},512)],64)}a(7658);var c=a(5655),f=a.n(c),p=a(7173),h=a(8226),m=a(5952),g=a(7139);const b=e=>((0,r.dD)("data-v-3b3c858a"),e=e(),(0,r.Cn)(),e),v={key:0,class:"file-status-container"},y={key:0,class:"status"},k=b((()=>(0,r._)("p",null,"An error has occurred...",-1))),F={key:1,class:"status"},O={key:2,class:"status"},w=b((()=>(0,r._)("p",null,"Aborted",-1))),S={key:3,class:"status"},C=b((()=>(0,r._)("div",{class:"loader icon"},null,-1))),x={class:"status-text"},P={key:4,class:"status"},z=b((()=>(0,r._)("div",{class:"loader icon"},null,-1))),N=b((()=>(0,r._)("p",{class:"status-text"},"Aborting",-1))),T=[z,N];function _(e,t,a,i,n,s){const o=(0,r.up)("fa");return a.status&&n.showFileStatus?((0,r.wg)(),(0,r.iD)("div",v,["error"==a.status?((0,r.wg)(),(0,r.iD)("div",y,[(0,r.Wm)(o,{icon:["fas","circle-exclamation"],style:{color:"#cf1717"},class:"status-icon"}),k])):(0,r.kq)("",!0),"success"==a.status?((0,r.wg)(),(0,r.iD)("div",F,[(0,r.Wm)(o,{icon:["far","circle-check"],style:{color:"#16ac2f"},class:"status-icon"}),(0,r._)("p",null,"Files uploaded successfully ("+(0,g.zw)(a.numberOfFilesToUpload)+")",1)])):(0,r.kq)("",!0),"aborted"==a.status?((0,r.wg)(),(0,r.iD)("div",O,[(0,r.Wm)(o,{icon:["far","circle-check"],style:{color:"#16ac2f"},class:"status-icon"}),w])):(0,r.kq)("",!0),"uploading"==a.status?((0,r.wg)(),(0,r.iD)("div",S,[C,(0,r._)("p",x,(0,g.zw)(a.numberOfUploadedFiles)+" out of "+(0,g.zw)(a.numberOfFilesToUpload)+" files uploaded ",1)])):(0,r.kq)("",!0),"aborting"==a.status?((0,r.wg)(),(0,r.iD)("div",P,T)):(0,r.kq)("",!0),(0,r._)("div",{class:"xmark-container",onClick:t[0]||(t[0]=(...e)=>s.hideFileStatus&&s.hideFileStatus(...e))},[(0,r.Wm)(o,{icon:["fas","xmark"],class:"xmark"})]),"uploading"==a.status?((0,r.wg)(),(0,r.iD)("div",{key:5,class:"abort-btn",onClick:t[1]||(t[1]=t=>e.$emit("abort-uploading"))}," Abort ")):(0,r.kq)("",!0)])):(0,r.kq)("",!0)}var j={name:"file-status",emits:["abort-uploading"],props:{status:{type:String,default:null},numberOfFilesToUpload:{type:Number,default:0},numberOfUploadedFiles:{type:Number,default:0}},data(){return{showFileStatus:!0}},methods:{hideFileStatus(){this.showFileStatus=!1}},watch:{status(){this.showFileStatus=!0}}},U=a(89);const E=(0,U.Z)(j,[["render",_],["__scopeId","data-v-3b3c858a"]]);var D=E,M=a(776);const A=(0,r._)("p",{class:"modal-subtitle"},"Name",-1),q=(0,r._)("p",{class:"modal-subtitle"},"Location",-1);function L(e,t,a,i,n,s){const o=(0,r.up)("v-select");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",null,[A,(0,r._)("input",{type:"text",class:"private-folder-name-input input-field",onChange:t[0]||(t[0]=e=>s.hideError())},null,32)]),(0,r._)("div",null,[q,(0,r.Wm)(o,{options:n.availablePaths,class:"private-folder-path-selector selector",label:"frontend_path",value:"unique_path",modelValue:n.selectedPrivateFolderPath,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedPrivateFolderPath=e)},null,8,["options","modelValue"])]),(0,r._)("div",{class:"create-private-folder-btn modal-btn",onClick:t[2]||(t[2]=e=>s.createFolder())}," Create ")],64)}var B=a(4161),I={name:"create-private-folder",emits:["hide-modal","update-data"],data(){return{selectedPrivateFolderPath:"",availablePaths:[]}},methods:{hideError(){const e=document.querySelector(".private-folder-name-input");e.style.borderColor="#CDCDD6"},getAvailablePaths(){B.Z.post("/api/fetch-data",{dataCategory:"folders"},{withCredentials:!0}).then((e=>{this.availablePaths=e.data.dataArray}))},createFolder(){const e=document.querySelector(".private-folder-name-input"),t=document.querySelector(".private-folder-path-selector");let a=e.value;0===a.length||0===this.selectedPrivateFolderPath.length?(0===a.length&&(e.style.borderColor="red"),0===this.selectedPrivateFolderPath.length&&(t.style.borderColor="red")):B.Z.post("/api/create-folder",{isPublic:!1,name:a,uniquePath:this.selectedPrivateFolderPath.unique_path,frontendPath:this.selectedPrivateFolderPath.frontend_path.slice(1,-1)},{withCredentials:!0}).then((e=>{this.$emit("update-data"),this.$emit("hide-modal",e.data)})).catch((e=>{console.log(e)}))}},watch:{selectedPrivateFolderPath(e){0!==e.length&&(document.querySelector(".private-folder-path-selector").style.borderColor="transparent")}}};const R=(0,U.Z)(I,[["render",L]]);var W=R,Z=a(4340),G=a(8560);const $=()=>{B.Z.post("/api/reset-data",{},{withCredentials:!0}).then((()=>{})).catch((e=>{throw e}))};var H=$,V={components:{Dropdown:p.Z,DropdownOption:h.Z,DataWrapper:m.Z,FilesActionStatus:D,Modal:M.Z,CreatePrivateFolder:W,MessageBox:Z.Z},data(){return{data:[],resumable:null,filesStatus:null,filesToUpload:0,uploadedFiles:0,lastFileAdedIndex:0,uploadedFilesFromGroup:0,filesGroup:[],input:"file"}},created(){this.updateData()},mounted(){this.resumable=new(f())({target:"/api/upload",testChunks:!1,chunkSize:10485760,simultaneousUploads:1,maxChunkRetries:5,maxFileSize:1/0,minFileSize:0,withCredentials:!0}),this.resumable.on("fileError",(e=>{console.error("Error uploading "+e.file.name),this.filesStatus="error"})),this.resumable.on("fileSuccess",(()=>{this.updateData(),this.uploadedFiles++,this.uploadedFiles===this.filesToUpload&&(this.filesStatus="success",this.resumable.files=[],this.filesGroup=[],this.lastFileAdedIndex=0,this.uploadedFilesFromGroup=0,H()),"error"!==this.filesStatus&&(this.uploadedFilesFromGroup++,this.uploadedFilesFromGroup===this.filesGroup.length&&(this.uploadedFilesFromGroup=0,this.filesGroup=[],this.resumable.files=[],this.uploadFiles!==this.filesToUpload&&this.uploadFiles()))})),this.resumable.on("fileProgress",(()=>{this.filesStatus="uploading"}))},methods:{abortUploading(){this.reinitializeVariablesFileStatus(),this.resumable.cancel(),this.filesStatus="aborting",B.Z.post("/api/delete-chunks",{},{withCredentials:!0}).then((()=>{this.filesStatus="aborted"})).catch((()=>{this.filesStatus="error"}))},updateData(){(0,G.Z)("dashboard").then((e=>{this.data=e})).catch((e=>{console.error("Error:",e)}))},hideModalTrigger(e){this.$refs.Modal.hideModal(),this.$refs.MessageBox.showMessage(e.message)},uploadFilesBtn(){if("uploading"!==this.filesStatus){const e=document.querySelector(".upload-file input");this.reinitializeVariablesFileStatus(),e.click()}else this.$refs.MessageBox.showMessage("Uploading in progress. Please wait...")},uploadFoldersBtn(){if("uploading"!==this.filesStatus){const e=document.querySelector(".upload-folder input");this.reinitializeVariablesFileStatus(),e.click()}else this.$refs.MessageBox.showMessage("Uploading in progress. Please wait...")},reinitializeVariablesFileStatus(){this.filesStatus=null,this.uploadedFiles=0,this.filesToUpload=0},uploadFiles(){let e=0;const t=Array.from(document.querySelector(`.upload-${this.input} input`).files);this.filesToUpload=t.length;for(let a=this.lastFileAdedIndex;a<t.length;a++){if(e+=Number(t[a].size),(e/Math.pow(1024,3)).toFixed(0)+Number(this.$store.state.usedMemory)>=Number(this.$store.state.freeMemory)){this.abortUploading(),this.$refs.MessageBox.showMessage("Disk memory is almost full. Aborting..."),H();break}if(this.filesGroup.push(t[a]),e/1048576>=100||a+1==t.length){this.lastFileAdedIndex=a+1;break}}this.resumable.addFiles(this.filesGroup),this.resumable.opts.headers={NumberOfFiles:this.filesToUpload},setTimeout((()=>{this.resumable.upload()}),500)},showModal(e){const t=document.querySelectorAll(".modal"),a=document.querySelector(".overlay");t.forEach((t=>{e.target.classList.contains(t.classList[0])&&(t.classList.remove("hidden"),a.classList.remove("hidden"))}))},showDropdown(e){this.$refs.dataWrapper.cancelfilesSelection();const t=document.querySelectorAll(".dropdown");t.forEach((t=>{t.classList.add("hidden"),e.target.classList.contains(t.classList[0])&&setTimeout((()=>{t.classList.remove("hidden")}),100)}))}}};const X=(0,U.Z)(V,[["render",d],["__scopeId","data-v-65cbef8c"]]);var Y=X}}]);
//# sourceMappingURL=445.3343742a.js.map